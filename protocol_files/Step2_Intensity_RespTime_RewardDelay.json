{   "timers":[
    { 
        "timer_id":1, 
        "timer_duration": 0.8, 
        "on_set_delay": 0, 
        "channel": "Valve2", 
        "on_message": 1, 
        "off_message":0
    }
    ], 
    "states": [
        {
            "stateName": "WaitForOdor",
            "stateTimer": 3,
            "stateChangeConditions": {
                "Tup": "WaitForSniff"
            },
            "outputActions": {
				"AnalogThreshEnable": "1111",
                "Olfactometer": "set_stimulus"
            }
        },
		{
			"stateName": "WaitForSniff",
            "stateTimer": 2,
            "stateChangeConditions": {
                "Flex1Trig1": "PresentOdor",
				"Tup": "PresentOdor"
            },
            "outputActions": {
                "AnalogThreshEnable": "1111"
            }
		},
        {
            "stateName": "PresentOdor",
            "stateTimer": 0,
            "stateChangeConditions": {
                "Tup": "DetectResponse"
            },
            "outputActions": {
                "GlobalTimerTrig": 1
            }
        },
        {
            "stateName": "DetectResponse",
            "stateTimer": 0.8,
            "stateChangeConditions": {
                "Tup": "WaitForResponse", 
                "Port1In": "leftActionWait",
                "Port3In": "rightActionWait"

            },
            "outputActions": {}
        },
        {
            "stateName": "WaitForResponse",
            "stateTimer": 5,
            "stateChangeConditions": {
                "Port1In": "leftAction",
                "Port3In": "rightAction",
                "Tup": "NoResponse"
            },
            "outputActions": {
                "Olfactometer": "set_dummy_vials"
            }
        },
        {
            "stateName": "CorrectWait",
            "stateTimer": 0,
            "stateChangeConditions": {
                "GlobalTimer1_End": "Correct"
            },
            "outputActions": {
            }
        },
        {
            "stateName": "WrongWait",
            "stateTimer": 0,
            "stateChangeConditions": {
                "GlobalTimer1_End": "Wrong"
            },
            "outputActions": {
            }
        },
        {
            "stateName": "Correct",
            "stateTimer": "rewardDuration",
            "stateChangeConditions": {
                "Tup": "ITI"
            },
            "outputActions": {
                "Valve": [
                    "rewardValve"
                ],
                "Olfactometer": "set_dummy_vials"
            }
        },
        {
            "stateName": "Wrong",
            "stateTimer": 0,
            "stateChangeConditions": {
                "Tup": "ITI"
            },
            "outputActions": {
				"BNC1" : 1,
                "Olfactometer": "set_dummy_vials"
			}
        },
        {
            "stateName": "NoResponse",
            "stateTimer": 0,
            "stateChangeConditions": {
                "Tup": "ITI"
            },
            "outputActions": {}
        },
        {
            "stateName": "ITI",
            "stateTimer": "itiDuration",
            "stateChangeConditions": {
                "Tup": "exit"
            },
            "outputActions": {}
        }
    ]
}